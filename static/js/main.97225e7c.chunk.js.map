{"version":3,"sources":["components/TodoContext/index.js","components/TodoContext/useLocalStorage.js","components/TodoCounter/index.js","components/TodoSearch/index.js","components/TodoList/index.js","components/TodoItem/index.js","components/CreateTodoButton/index.js","components/Modal/index.js","components/TodoForm/index.js","components/App/AppUI.js","components/App/index.js","index.js"],"names":["TodoContext","React","createContext","TodoProvider","props","itemName","initialValue","useState","loading","setLoading","error","setError","item","setItem","useEffect","setTimeout","parsedItem","localStorageItem","localStorage","getItem","JSON","parse","stringify","err","saveItem","newItem","stringifiedItem","useLocalStorage","todos","saveTodos","searchValue","setSearchValue","openModal","setOpenModal","completedTodos","filter","completed","length","totalTodos","searchedTodos","todo","todoText","text","toLowerCase","searchText","includes","Provider","value","addTodo","newTodos","push","completeTodo","todoIndex","findIndex","deleteTodo","splice","children","TodoCounter","useContext","className","TodoSearch","placeholder","onChange","event","console","log","target","TodoList","TodoItem","onClick","onComplete","onDelete","CreateTodoButton","prevState","Modal","ReactDOM","createPortal","document","getElementById","TodoForm","newTodoValue","setNewTodoValue","onSubmit","preventDefault","type","AppUi","Fragment","map","App","render"],"mappings":"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","file":"static/js/main.97225e7c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport { useLocalStorage } from './useLocalStorage'\r\n\r\nconst TodoContext = React.createContext()\r\n\r\nfunction TodoProvider(props) {\r\n    const { item: todos, saveItem: saveTodos, loading, error } = useLocalStorage('TODOS_V1', [])\r\n\r\n    const [ searchValue, setSearchValue ] = React.useState('')\r\n\r\n    const [ openModal, setOpenModal ] = React.useState(false)\r\n\r\n    const completedTodos = todos.filter(todos => !!todos.completed).length\r\n    const totalTodos = todos.length\r\n  \r\n    let searchedTodos = []\r\n  \r\n    if (!searchValue.length >= 1) {\r\n      searchedTodos = todos\r\n    } else {\r\n      searchedTodos = todos.filter(todo => {\r\n        const todoText = todo.text.toLowerCase()\r\n        const searchText = searchValue.toLowerCase()\r\n        return todoText.includes(searchText)\r\n      })\r\n    }\r\n  \r\n    const addTodo = (text) => {\r\n      const newTodos = [...todos]\r\n      newTodos.push({\r\n        completed: false,\r\n        text,\r\n      })\r\n      saveTodos(newTodos)\r\n    }\r\n\r\n    const completeTodo = (text) => {\r\n      const todoIndex = todos.findIndex(todo => todo.text === text)\r\n      const newTodos = [...todos]\r\n      newTodos[todoIndex].completed = !newTodos[todoIndex].completed\r\n      saveTodos(newTodos)\r\n    }\r\n    \r\n    const deleteTodo = (text) => {\r\n      const todoIndex = todos.findIndex(todo => todo.text === text)\r\n      const newTodos = [...todos]\r\n      newTodos.splice(todoIndex, 1)\r\n      saveTodos(newTodos)\r\n    }\r\n    \r\n    return (\r\n        <TodoContext.Provider value={{\r\n            loading,\r\n            error,\r\n            totalTodos,\r\n            completedTodos,\r\n            searchValue,\r\n            setSearchValue,\r\n            searchedTodos,\r\n            addTodo,\r\n            completeTodo,\r\n            deleteTodo,\r\n            openModal,\r\n            setOpenModal,\r\n        }}>\r\n            { props.children }\r\n        </TodoContext.Provider>\r\n    )\r\n}\r\n\r\nexport { TodoContext, TodoProvider }","import React from 'react'\r\n\r\nexport function useLocalStorage(itemName, initialValue) {\r\n    const [ loading, setLoading ] = React.useState(true)\r\n    const [ error, setError ] = React.useState(false)\r\n    // window.localStorage.removeItem(itemName)\r\n    const [ item, setItem ] = React.useState(initialValue)\r\n  \r\n    React.useEffect( () => {\r\n      try {\r\n          setTimeout( () => {\r\n            const localStorageItem = localStorage.getItem(itemName)\r\n            let parsedItem\r\n            \r\n            if (!localStorageItem) {\r\n              localStorage.setItem(itemName, JSON.stringify(initialValue))\r\n              parsedItem = initialValue\r\n            } else {\r\n              parsedItem = JSON.parse(localStorageItem)\r\n            }\r\n            setItem(parsedItem)\r\n            setLoading(false)\r\n          },  1000)\r\n        } catch (err) {\r\n          setError(err)\r\n        }\r\n    }, [itemName, initialValue])\r\n  \r\n  \r\n    const saveItem = (newItem) => {\r\n      try {\r\n        const stringifiedItem = JSON.stringify(newItem)\r\n        localStorage.setItem(itemName, stringifiedItem)\r\n        setItem(newItem)\r\n      } catch (err) {\r\n        setError(err)\r\n      }\r\n      }\r\n  \r\n    return {\r\n      item, \r\n      saveItem,\r\n      loading,\r\n      error \r\n    }\r\n  }","import React from \"react\";\r\nimport { TodoContext } from \"../TodoContext\";\r\nimport './TodoCounter.css'\r\n\r\nexport function TodoCounter() {\r\n\r\n    const { totalTodos, completedTodos } = React.useContext(TodoContext)\r\n    \r\n    return (\r\n        <h2 className=\"TodoCounter\">{`Has Completado ${completedTodos} de ${totalTodos} TODOs`}</h2>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { TodoContext } from '../TodoContext'\r\n\r\nimport './TodoSearch.css'\r\n\r\nexport function TodoSearch() {\r\n    const { searchValue, setSearchValue } = React.useContext(TodoContext)\r\n    const onSearchValueChange = (event) => {\r\n        console.log(event.target.value)\r\n        setSearchValue(event.target.value)\r\n    }\r\n    return (\r\n        <input \r\n            className=\"TodoSearch\" \r\n            placeholder=\"Cebolla\"\r\n            value={searchValue}\r\n            onChange={onSearchValueChange}\r\n        />\r\n    )\r\n}","import React from 'react'\r\n\r\nimport './TodoList.css'\r\n\r\nexport function TodoList(props) {\r\n    return(\r\n        <section>\r\n            <ul>\r\n                { props.children }\r\n            </ul>\r\n        </section>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport './TodoItem.css'\r\n\r\nexport function TodoItem(props) {\r\n    return (\r\n        <li className=\"TodoItem\">\r\n            <span \r\n                className={`Icon Icon-check ${props.completed && 'Icon-check--active'}`}\r\n                onClick={props.onComplete}\r\n            >\r\n                    C\r\n                </span>\r\n            <p className={`TodoItem-p ${props.completed && 'TodoItem-p--complete'}`}>{props.text}</p>\r\n            <span \r\n                className=\"Icon Icon-delete\"\r\n                onClick={props.onDelete}\r\n            >\r\n                X\r\n            </span>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport './CreateTodoButton.css'\r\n\r\nexport function CreateTodoButton({ setOpenModal }) {\r\n    const onClickButton = () => {\r\n        setOpenModal( prevState => !prevState)\r\n    }\r\n    return (\r\n        <button \r\n            className=\"CreateTodoButton\"\r\n            onClick={onClickButton}\r\n        >\r\n            +\r\n        </button>\r\n    )\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './modal.css'\r\n\r\nexport function Modal({ children }) {\r\n    return ReactDOM.createPortal(\r\n        <div className=\"ModalBackground\">\r\n            { children  }\r\n        </div>,\r\n        document.getElementById('modal')\r\n    )\r\n}","import React from 'react'\r\n\r\nimport './TodoForm.css'\r\n\r\nimport { TodoContext } from '../TodoContext'\r\n\r\nexport function TodoForm() {\r\n    const [ newTodoValue, setNewTodoValue ] = React.useState('')\r\n    \r\n    const {\r\n        addTodo,\r\n        setOpenModal,\r\n    } = React.useContext(TodoContext)\r\n\r\n    const onChange = (event) => {\r\n        setNewTodoValue(event.target.value)\r\n    }\r\n\r\n    const onCancel = () => {\r\n        setOpenModal(false)\r\n    }\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        addTodo(newTodoValue)\r\n        setOpenModal(false)\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n            <label>...</label>\r\n            <textarea\r\n                value={newTodoValue}\r\n                onChange={onChange} \r\n                placeholder=\"Cortar la cebolla para el almuerzo\"\r\n            />\r\n            <div className=\"TodoForm-buttonContainer\">\r\n                <button\r\n                    className=\"TodoForm-button TodoForm-button-cancel \"\r\n                    type=\"button\"\r\n                    onClick={onCancel}\r\n                >\r\n                    Cancelar\r\n                </button>\r\n                <button\r\n                    className=\"TodoForm-button TodoForm-button-add\"\r\n                    type=\"submit\"\r\n                >\r\n                    Añadir\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { TodoContext } from '../TodoContext';\r\nimport { TodoCounter } from \"../TodoCounter\";\r\nimport { TodoSearch } from \"../TodoSearch\";\r\nimport { TodoList } from \"../TodoList\";\r\nimport { TodoItem } from \"../TodoItem\";\r\nimport { CreateTodoButton } from \"../CreateTodoButton\";\r\nimport { Modal } from '../Modal';\r\nimport { TodoForm } from '../TodoForm';\r\n\r\nexport function AppUi() {\r\n    const { \r\n        error, \r\n        loading, \r\n        searchedTodos,\r\n        completeTodo, \r\n        deleteTodo,\r\n        openModal,\r\n        setOpenModal,\r\n    } = React.useContext(TodoContext)\r\n    return (\r\n        <React.Fragment>\r\n            <TodoCounter />\r\n            <TodoSearch />\r\n            <TodoList>\r\n                { error && <p>CSM</p> }\r\n                { loading && <p>Loading...</p> }\r\n                {(!loading && !searchedTodos.length) && <p>Crea tu primer todo</p>}\r\n                \r\n                {\r\n                searchedTodos.map( todo => (\r\n                    <TodoItem \r\n                    key={todo.text} \r\n                    text={todo.text} \r\n                    completed={todo.completed}\r\n                    onComplete={() => completeTodo(todo.text)}\r\n                    onDelete={() => deleteTodo(todo.text)}\r\n                    />\r\n                ))\r\n                }\r\n            </TodoList>\r\n            {\r\n                !!openModal && (\r\n                    <Modal>\r\n                        <TodoForm />\r\n                    </Modal>\r\n                )\r\n            }\r\n            <CreateTodoButton\r\n                setOpenModal={setOpenModal}\r\n            />\r\n\r\n        </React.Fragment>    \r\n    )\r\n}","import React from \"react\";\r\n\r\nimport { AppUi } from \"./AppUI\";\r\nimport { TodoProvider } from '../TodoContext'\r\n\r\nfunction App() {\r\n  return (\r\n    <TodoProvider>\r\n      <AppUi/>\r\n    </TodoProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}